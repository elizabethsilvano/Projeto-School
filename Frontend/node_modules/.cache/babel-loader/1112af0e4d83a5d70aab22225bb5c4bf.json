{"remainingRequest":"/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/babel-loader/lib/index.js!/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elizabeth/Documentos/djavue-crud/frontend/src/views/Edit-Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/src/views/Edit-Student.vue","mtime":1637513600944},{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/babel.config.js","mtime":1637460098065},{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elizabeth/Documentos/djavue-crud/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2VsaXphYmV0aC9Eb2N1bWVudG9zL2RqYXZ1ZS1jcnVkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBDaXJjbGU4IH0gZnJvbSAndnVlLWxvYWRpbmctc3Bpbm5lcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkLVN0dWRlbnRzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3R1ZGVudDogewogICAgICAgICdpZCc6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAnbmFtZSc6ICcnLAogICAgICAgICdjb3Vyc2UnOiAnJywKICAgICAgICAnbnVtYmVyJzogJycsCiAgICAgICAgJ3N0YXR1cyc6ICcnCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6ICcnCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQ2lyY2xlODogQ2lyY2xlOAogIH0sCiAgcHJvcHM6IHsKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2hvd1N0dWRlbnQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dTdHVkZW50OiBmdW5jdGlvbiBzaG93U3R1ZGVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvc3R1ZGVudHMvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCArICcvJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBfdGhpcy5zdHVkZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0U3R1ZGVudDogZnVuY3Rpb24gc3VibWl0U3R1ZGVudCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHRoaXMuZWRpdFN0dWRlbnQoKTsKICAgICAgfQogICAgfSwKICAgIGVkaXRTdHVkZW50OiBmdW5jdGlvbiBlZGl0U3R1ZGVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zaG93U3R1ZGVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9zdHVkZW50cy8iICsgX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQgKyAiLyIsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncHV0JywKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoX3RoaXMyLnN0dWRlbnQpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMyLnNob3dTdHVkZW50KCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnN1Y2Nlc3MgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Edit-Student.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,OAAA,QAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,cAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,gBAAA,EAFA;AAGA,kBAAA,EAHA;AAIA,kBAAA,EAJA;AAKA,kBAAA;AALA,OADA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAeA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAfA;AAmBA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AADA,GAnBA;AAuBA,EAAA,OAvBA,qBAuBA;AACA,SAAA,WAAA;AACA,GAzBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,wCAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,GAAA;AAFA,OAAA,CAAA,CAGA,IAHA,CAGA,UAAA,QAAA;AAAA,eAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AAAA,OAHA;AAIA,KANA;AAQA,IAAA,aARA,2BAQA;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,aAAA,WAAA;AACA;AACA,KAZA;AAcA,IAAA,WAdA,yBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,WAAA,EADA;;AAAA;AAAA;AAAA,uBAGA,KAAA,CAAA,wCAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,MAAA,EAAA;AACA,kBAAA,MAAA,EAAA,KADA;AAEA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA,mBAFA;AAKA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,OAAA;AALA,iBAAA,CAHA;;AAAA;AAWA,gBAAA,MAAA,CAAA,WAAA;;AAEA,gBAAA,MAAA,CAAA,OAAA,GAAA,IAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AA5BA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"add-students\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h2>\n                Editar Aluno\n              </h2>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"col-md-6\">\n                <div class=\"alert alert-success\" v-if=\"success\">\n                  Dados salvo com sucesso!\n                </div>\n                <form @submit.prevent=\"submitStudent()\">\n                  <div class=\"form-group\">\n                    <label class=\"label\">Nome</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"student.name\" required=\"required\">\n                  </div>\n                  <div class=\"form-group\">\n                    <label class=\"label\">Curso</label>\n                    <select class=\"form-control\" v-model=\"student.course\" required=\"required\">\n                      <option >Escolha um curso</option>\n                      <option value=\"Python\">Python</option>\n                      <option value=\"Ruby\">Ruby</option>\n                      <option value=\"Vue.js\">Vue.js</option>\n                    </select>\n                  </div>\n                  <div class=\"form-group\">\n                    <label class=\"label\">Número da Matrícula</label>\n                    <input type=\"number\" class=\"form-control\" v-model=\"student.number\" required=\"required\">\n                  </div>\n                  <div class=\"form-group\">\n                    <label class=\"label\">Status</label>\n                    <input type=\"checkbox\" class=\"form-control\" v-model=\"student.status\">\n                  </div>\n                  <router-link to=\"/students\" class=\"btn btn-info\">Voltar</router-link>\n                  <button class=\"btn btn-success\" :disabled=\"loading\">\n                    <span v-if=\"loading\">\n                      <Circle8></Circle8>\n                    </span>\n                    <span v-if=\"!loading\">Salvar</span>\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {Circle8} from 'vue-loading-spinner'\n\nexport default {\n  name: 'Add-Students',\n  data() {\n    return {\n      student: {\n        'id': this.$route.params.id,\n        'name': '',\n        'course': '',\n        'number': '',\n        'status': '',\n      },\n      success: ''\n    }\n  },\n\n  components: {\n    Circle8\n  },\n\n  props: {\n      loading: { type: Boolean }\n  },\n\n  mounted() {\n    this.showStudent();\n  },\n\n  methods: {\n    showStudent() {\n      axios({\n        method: 'get',\n        url: 'http://127.0.0.1:8000/api/students/' + this.$route.params.id + '/',\n      }).then(response => this.student = response.data)\n    },\n\n    submitStudent() {\n      if (this.$route.params.id) {\n        this.editStudent();\n      }\n    },\n\n    async editStudent() {\n      await this.showStudent();\n\n      await fetch(`http://127.0.0.1:8000/api/students/`+this.$route.params.id+`/`,{\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.student)\n      })\n\n      this.showStudent()\n\n      this.success = true\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}